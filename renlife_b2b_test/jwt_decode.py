import json
import base64

# token = 'eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJZZnJWQnB5ZklQbUFyYjlMTEd2aDVnVmIyUURvbUp5MjEzSmJoYkdlNi1NIn0.eyJleHAiOjE2NjEwMDQ2MjcsImlhdCI6MTY2MTAwNDMyNywiYXV0aF90aW1lIjoxNjYxMDA0MzIzLCJqdGkiOiJhOTBiNTY4MC1lZGJhLTRmOGUtOWU1MC1jNjIzNWQwMjM4NTAiLCJpc3MiOiJodHRwczovL2F1dGguY2xvdWQtdGVzdC5yZW5saWZlLmNvbS9hdXRoL3JlYWxtcy90ZXN0IiwiYXVkIjpbImdhdGV3YXktY3JlYXRpby1jcm0iLCJnYXRld2F5LWVkbyIsInN0b3JhZ2UiLCJnYXRld2F5Iiwic2VuZCJdLCJzdWIiOiJlNGJmNGQ4Ny1jNTAwLTQyNGYtYmVkNi1jYTIzNTVkYWI3YTEiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJiMmItZnJvbnRlbmQiLCJub25jZSI6IjQzOGVhYWQxLTM5MjUtNDA1Mi04YWYxLTFmMjVkNmFjODUzMSIsInNlc3Npb25fc3RhdGUiOiIxOWNjYjJkYy1mMDFiLTQxN2EtOGJhYy05YTVhNjIwOGI5ZDAiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MCIsImh0dHBzOi8vYjJiLmNsb3VkLXRlc3QucmVubGlmZS5jb20iXSwicmVzb3VyY2VfYWNjZXNzIjp7ImdhdGV3YXktY3JlYXRpby1jcm0iOnsicm9sZXMiOlsidXNlciJdfSwic3RvcmFnZSI6eyJyb2xlcyI6WyJzdG9yYWdlIl19LCJnYXRld2F5LWVkbyI6eyJyb2xlcyI6WyJiMmIiLCJUYXNrcyJdfSwic2VuZCI6eyJyb2xlcyI6WyJzZW5kIl19LCJnYXRld2F5Ijp7InJvbGVzIjpbImIyYl93ZWVrbHkiLCJiMmIiXX19LCJzY29wZSI6Im9wZW5pZCBzZW5kIGdhdGV3YXkgZ2F0ZXdheS1jcmVhdGlvLWNybSBnYXRld2F5LWVkbyBzdG9yYWdlIiwic2lkIjoiMTljY2IyZGMtZjAxYi00MTdhLThiYWMtOWE1YTYyMDhiOWQwIiwiZXh0ZXJuYWxfa2V5IjoiQzgxRjJEOTdCNUZDM0VBQTFFNzk1NUU4QzY3N0FBM0IiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJ1YnJpci50ZXN0YjJiMiJ9.fXTwOmrcNvp_Lube2aUnSii1JcPYZHFe-turtMffQraNl1ZTvHUX_OmV1RkFtLQ0iYcTNdViV2mw-DTbCiToQJQWZ2z-UOLWLES7PTqQKphnqoRUEgtNOxJ0jrVatPQ9RpAX_0Yzza_wMEdD5wN4MnTgwJVXHeVRcNAYxe5X8EoFzVbQldces20aF8-LMbjVDsqRl0cTPNAzr8g39B4exauD8wFTw0zf-fRMDSHz7cqbhNa2GsXAOpQkhHLuC28cle-MawMx14wJlJ9o6NOL6dJZkIEUV-a-NeGv-AGHGoHbuLlrv0MflkJBAkZ84ArE5thNzt1_TQpvD3CLm4lyWQ'


def jwt_decode(token:str = None):
    # print(' ')
    token_split = token.split('.')
    token_split = token_split[1] + '=='
    token_split = base64.b64decode(token_split)
    token_decode = json.loads(token_split)['sub']
    return token_decode

# def test_test():
#     # x = 'eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJZZnJWQnB5ZklQbUFyYjlMTEd2aDVnVmIyUURvbUp5MjEzSmJoYkdlNi1NIn0.eyJleHAiOjE2NjEwMDQ2MjcsImlhdCI6MTY2MTAwNDMyNywiYXV0aF90aW1lIjoxNjYxMDA0MzIzLCJqdGkiOiJhOTBiNTY4MC1lZGJhLTRmOGUtOWU1MC1jNjIzNWQwMjM4NTAiLCJpc3MiOiJodHRwczovL2F1dGguY2xvdWQtdGVzdC5yZW5saWZlLmNvbS9hdXRoL3JlYWxtcy90ZXN0IiwiYXVkIjpbImdhdGV3YXktY3JlYXRpby1jcm0iLCJnYXRld2F5LWVkbyIsInN0b3JhZ2UiLCJnYXRld2F5Iiwic2VuZCJdLCJzdWIiOiJlNGJmNGQ4Ny1jNTAwLTQyNGYtYmVkNi1jYTIzNTVkYWI3YTEiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJiMmItZnJvbnRlbmQiLCJub25jZSI6IjQzOGVhYWQxLTM5MjUtNDA1Mi04YWYxLTFmMjVkNmFjODUzMSIsInNlc3Npb25fc3RhdGUiOiIxOWNjYjJkYy1mMDFiLTQxN2EtOGJhYy05YTVhNjIwOGI5ZDAiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MCIsImh0dHBzOi8vYjJiLmNsb3VkLXRlc3QucmVubGlmZS5jb20iXSwicmVzb3VyY2VfYWNjZXNzIjp7ImdhdGV3YXktY3JlYXRpby1jcm0iOnsicm9sZXMiOlsidXNlciJdfSwic3RvcmFnZSI6eyJyb2xlcyI6WyJzdG9yYWdlIl19LCJnYXRld2F5LWVkbyI6eyJyb2xlcyI6WyJiMmIiLCJUYXNrcyJdfSwic2VuZCI6eyJyb2xlcyI6WyJzZW5kIl19LCJnYXRld2F5Ijp7InJvbGVzIjpbImIyYl93ZWVrbHkiLCJiMmIiXX19LCJzY29wZSI6Im9wZW5pZCBzZW5kIGdhdGV3YXkgZ2F0ZXdheS1jcmVhdGlvLWNybSBnYXRld2F5LWVkbyBzdG9yYWdlIiwic2lkIjoiMTljY2IyZGMtZjAxYi00MTdhLThiYWMtOWE1YTYyMDhiOWQwIiwiZXh0ZXJuYWxfa2V5IjoiQzgxRjJEOTdCNUZDM0VBQTFFNzk1NUU4QzY3N0FBM0IiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJ1YnJpci50ZXN0YjJiMiJ9.fXTwOmrcNvp_Lube2aUnSii1JcPYZHFe-turtMffQraNl1ZTvHUX_OmV1RkFtLQ0iYcTNdViV2mw-DTbCiToQJQWZ2z-UOLWLES7PTqQKphnqoRUEgtNOxJ0jrVatPQ9RpAX_0Yzza_wMEdD5wN4MnTgwJVXHeVRcNAYxe5X8EoFzVbQldces20aF8-LMbjVDsqRl0cTPNAzr8g39B4exauD8wFTw0zf-fRMDSHz7cqbhNa2GsXAOpQkhHLuC28cle-MawMx14wJlJ9o6NOL6dJZkIEUV-a-NeGv-AGHGoHbuLlrv0MflkJBAkZ84ArE5thNzt1_TQpvD3CLm4lyWQ'
#     # x = 'eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJZZnJWQnB5ZklQbUFyYjlMTEd2aDVnVmIyUURvbUp5MjEzSmJoYkdlNi1NIn0.eyJleHAiOjE2NjEwODkzNzMsImlhdCI6MTY2MTA4OTA3MywianRpIjoiNzhkOTY1OGUtNzM3Ni00NzViLWI5YWQtMmMwM2RjNjZmOWYwIiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmNsb3VkLXRlc3QucmVubGlmZS5jb20vYXV0aC9yZWFsbXMvdGVzdCIsImF1ZCI6WyJnYXRld2F5LWNyZWF0aW8tY3JtIiwiZ2F0ZXdheS1lZG8iLCJzdG9yYWdlIiwiZ2F0ZXdheSIsInNlbmQiXSwic3ViIjoiZTRiZjRkODctYzUwMC00MjRmLWJlZDYtY2EyMzU1ZGFiN2ExIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiYjJiLWZyb250ZW5kIiwic2Vzc2lvbl9zdGF0ZSI6IjFkNWQxOGRkLWRmMTMtNGViYS1hMjgzLTk0OGRlYjRlOWRiMyIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cDovL2xvY2FsaG9zdDo4MDgwIiwiaHR0cHM6Ly9iMmIuY2xvdWQtdGVzdC5yZW5saWZlLmNvbSJdLCJyZXNvdXJjZV9hY2Nlc3MiOnsiZ2F0ZXdheS1jcmVhdGlvLWNybSI6eyJyb2xlcyI6WyJ1c2VyIl19LCJzdG9yYWdlIjp7InJvbGVzIjpbInN0b3JhZ2UiXX0sImdhdGV3YXktZWRvIjp7InJvbGVzIjpbImIyYiIsIlRhc2tzIl19LCJzZW5kIjp7InJvbGVzIjpbInNlbmQiXX0sImdhdGV3YXkiOnsicm9sZXMiOlsiYjJiX3dlZWtseSIsImIyYiJdfX0sInNjb3BlIjoic2VuZCBnYXRld2F5IGdhdGV3YXktY3JlYXRpby1jcm0gZ2F0ZXdheS1lZG8gc3RvcmFnZSIsInNpZCI6IjFkNWQxOGRkLWRmMTMtNGViYS1hMjgzLTk0OGRlYjRlOWRiMyIsImV4dGVybmFsX2tleSI6IkM4MUYyRDk3QjVGQzNFQUExRTc5NTVFOEM2NzdBQTNCIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidWJyaXIudGVzdGIyYjIifQ.Ch29ELCcardgUWjta7_rbrl5h2gv26hTPGrtRYjrwGG5dHj1Op - -njDYjm8cpA5YTElS55W0KRwTjw1YugJaB - vVLXE6fbJhrBWHPHxGTvroaZ1x0gF4vrwf5exRQdYmrJhhZCcAGZYFROHQVOnJhvPH5Aph7BWv59XFAu_HCJWb0ey9E6sN2osg7yU - bUp4Igu5N6QQW5u5n5qUps - VQV34AmPJDFBMFc60b1pZC7N3GDFqqTjPWn4TyEfBHfUYnCQaCqzPBpZQ6vJr71WYoaOASxZkJOP9HsswEbaOqF7nqPZrj82IS0fzIWD2sc_uSqstIzTCvms19eDwREkMEQ'
#     x = 'eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJZZnJWQnB5ZklQbUFyYjlMTEd2aDVnVmIyUURvbUp5MjEzSmJoYkdlNi1NIn0==.eyJleHAiOjE2NjEwODk4NTYsImlhdCI6MTY2MTA4OTU1NiwianRpIjoiNTFlMjc4NzUtMzE2NS00MjMzLWExMjgtYThhOTFmNTcxOWJiIiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmNsb3VkLXRlc3QucmVubGlmZS5jb20vYXV0aC9yZWFsbXMvdGVzdCIsImF1ZCI6WyJnYXRld2F5LWNyZWF0aW8tY3JtIiwiZ2F0ZXdheS1lZG8iLCJzdG9yYWdlIiwiZ2F0ZXdheSIsInNlbmQiXSwic3ViIjoiZTRiZjRkODctYzUwMC00MjRmLWJlZDYtY2EyMzU1ZGFiN2ExIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiYjJiLWZyb250ZW5kIiwic2Vzc2lvbl9zdGF0ZSI6IjZkYjg1YzZiLTY1ZmItNDI5NC04NTNlLWJjNzZlYzg2ODc1NCIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cDovL2xvY2FsaG9zdDo4MDgwIiwiaHR0cHM6Ly9iMmIuY2xvdWQtdGVzdC5yZW5saWZlLmNvbSJdLCJyZXNvdXJjZV9hY2Nlc3MiOnsiZ2F0ZXdheS1jcmVhdGlvLWNybSI6eyJyb2xlcyI6WyJ1c2VyIl19LCJzdG9yYWdlIjp7InJvbGVzIjpbInN0b3JhZ2UiXX0sImdhdGV3YXktZWRvIjp7InJvbGVzIjpbImIyYiIsIlRhc2tzIl19LCJzZW5kIjp7InJvbGVzIjpbInNlbmQiXX0sImdhdGV3YXkiOnsicm9sZXMiOlsiYjJiX3dlZWtseSIsImIyYiJdfX0sInNjb3BlIjoic2VuZCBnYXRld2F5IGdhdGV3YXktY3JlYXRpby1jcm0gZ2F0ZXdheS1lZG8gc3RvcmFnZSIsInNpZCI6IjZkYjg1YzZiLTY1ZmItNDI5NC04NTNlLWJjNzZlYzg2ODc1NCIsImV4dGVybmFsX2tleSI6IkM4MUYyRDk3QjVGQzNFQUExRTc5NTVFOEM2NzdBQTNCIiwicHJlZmVycmVkX3VzZXJuYW1lIjoidWJyaXIudGVzdGIyYjIifQ.EzPALwDSHvQSWz4DC5Gav6RDlo8E8rSv7Kuxjd3HYVQHEJb-HXI4eMSrzaIKfKZ-SDFjJphxae0Xqu1GZi68ssgdvQkkYrPMTf8RO0c4BM7yzhH12Elgi9ZYxj-rxtwXA7EAh8IvSPvt2ESTvl7V1CX80R_PieOfbsn3w3BCnAk22SyAc_TwiZC0QvvphjexyhThaNiDwYcxEml_jn7xIP7lXnzJs8PTUgwVWJD_1DzrcIw957nnvrYbUmCkDIpH0wxsVxfknNr6YoIGnT4V3AavY3UlTwKQRgNm0OB2Ezqt020VQAM0tfCw7IWQDcFhPzSw3EMWZEnN_f9czXQXag'
#     x = jwt_decode(x)
#     print(x)


